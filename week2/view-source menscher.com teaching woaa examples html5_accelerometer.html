
<!-- saved from url=(0067)http://menscher.com/teaching/woaa/examples/html5_accelerometer.html -->
<html><body><div class="webkit-line-gutter-backdrop"></div><table><tbody><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-doctype">&lt;!DOCTYPE html&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;html&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;head&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;title&gt;</span>Mobile Safari HTML5 Accelerometer Test<span class="webkit-html-tag">&lt;/title&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;meta <span class="webkit-html-attribute-name">http-equiv</span>="<span class="webkit-html-attribute-value">Content-Type</span>" <span class="webkit-html-attribute-name">content</span>="<span class="webkit-html-attribute-value">text/html; charset=UTF-8</span>" /&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;meta <span class="webkit-html-attribute-name">name</span>="<span class="webkit-html-attribute-value">viewport</span>" <span class="webkit-html-attribute-name">content</span>="<span class="webkit-html-attribute-value">width=device-width,user-scalable=no</span>" /&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;style&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  body {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    background-color: black;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    color: white;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    font-family: Helvetica, Verdana, Sans Serif;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    font-size: 10px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  #no {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	display: none;	</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  #ball {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	width: 20px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	height: 20px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	border-radius: 10px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	-webkit-radius: 10px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	background-color: red;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	position:absolute;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	top: 0px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  	left: 0px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;/style&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;script&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  // Position Variables</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var x = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var y = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">   </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  // Speed - Velocity</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var vx = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var vy = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">   </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  // Acceleration</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var ax = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var ay = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">   </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var delay = 10;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var vMultiplier = 0.01;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  window.onload = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (window.DeviceMotionEvent==undefined) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    	document.getElementById("no").style.display="block";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    	document.getElementById("yes").style.display="none";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">     </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    } else {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    	window.ondevicemotion = function(event) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    	 </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		ax = event.accelerationIncludingGravity.x;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		ay = event.accelerationIncludingGravity.y;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    	}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">     </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    	setInterval(function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		vy = vy + -(ay);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		vx = vx + ax;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">     </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		var ball = document.getElementById("ball");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		y = parseInt(y + vy * vMultiplier);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		x = parseInt(x + vx * vMultiplier);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		if (x&lt;0) { x = 0; vx = 0; }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		if (y&lt;0) { y = 0; vy = 0; }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		if (x&gt;document.documentElement.clientWidth-20) { x = document.documentElement.clientWidth-20; vx = 0; }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		if (y&gt;document.documentElement.clientHeight-20) { y = document.documentElement.clientHeight-20; vy = 0; }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		ball.style.top = y + "px";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		ball.style.left = x + "px";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    		document.getElementById("pos").innerHTML = "x=" + x + "&lt;br /&gt;y=" + y;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    	}, delay);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    } </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  };</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;/script&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/head&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;body&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">content</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      <span class="webkit-html-tag">&lt;h1&gt;</span>Move the Ball<span class="webkit-html-tag">&lt;/h1&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      <span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">yes</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          <span class="webkit-html-tag">&lt;p&gt;</span>Tilt your device to move the ball. This sample is using Device Orientation and Motion API compatible with iOS since 4.2<span class="webkit-html-tag">&lt;/p&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          <span class="webkit-html-tag">&lt;p&gt;</span>Mantain your device in portrait orientation for better results (you can lock it)<span class="webkit-html-tag">&lt;/p&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          <span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">pos</span>"&gt;</span>x=0<span class="webkit-html-tag">&lt;br /&gt;</span>y=0<span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          <span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">ball</span>"&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      <span class="webkit-html-tag">&lt;/div&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      <span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">no</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      Your browser does not support Device Orientation and Motion API. Try this sample with iPhone, iPod or iPad with iOS 4.2+.    </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      <span class="webkit-html-tag">&lt;/div&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;/div&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/body&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/html&gt;</span> </td></tr></tbody></table></body></html>